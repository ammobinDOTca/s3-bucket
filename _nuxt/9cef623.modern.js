(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{234:function(t,e,r){t.exports={}},236:function(t,e,r){t.exports=r.p+"img/TEST_SIDE.370db50.png"},237:function(t,e,r){"use strict";r(234)},238:function(t,e,r){"use strict";r(10),r(14),r(62);var n=r(33),o=t=>"utm_source=".concat("ammobin.ca","&utm_campaign=").concat(t);var c=r(13),m=r.n(c),l=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},d=class extends n.c{constructor(){super(...arguments),this.config=function(t,e,n){var{LANG:c,itemType:m,subType:l}=e,d="/".concat(c,"/sponsorship");if("fr"===c||"fr-home"===t)return"LANG"===t||"fr-home"===t?n?{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/home-mobile-fr.png",href:"https://canadafirstammo.ca/canadian-made/?".concat(o("mobile_FR"))}:{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/home-desktop-fr.png",href:"https://canadafirstammo.ca/canadian-made/?".concat(o("desktop_FR"))}:{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/home-mobile-fr.png",href:"https://canadafirstammo.ca/canadian-made/?".concat(o("mobile_FR"))};if("LANG"===t||"index"===t)return n?{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/home-mobile.png",href:"https://canadafirstammo.ca/canadian-made/?".concat(o("mobile_homepage"))}:{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/home-desktop.png",href:"https://canadafirstammo.ca/canadian-made/?".concat(o("homepage"))};switch(l){case"17 HMR":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/17.png",href:"https://canadafirstammo.ca/ammunition/rimfire/?".concat(o(l))};case"22 LR":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/22.png",href:"https://canadafirstammo.ca/ammunition/rimfire/?".concat(o(l))};case"12 GA":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/12.png",href:"https://canadafirstammo.ca/ammunition/shotgun/?".concat(o(l))};case"20 GA":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/20.png",href:"https://canadafirstammo.ca/ammunition/shotgun/?".concat(o(l))};case".357 MAG":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/357.png",href:"https://canadafirstammo.ca/search-results-page?q=357&page=1&rb_categories=Ammunition&".concat(o(l))};case".38 SPECIAL":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/38.png",href:"https://canadafirstammo.ca/search-results-page?q=38+spl&page=1&rb_categories=Ammunition&".concat(o(l))};case".40 S&W":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/40.png",href:"https://canadafirstammo.ca/search-results-page?q=40+s%26w&".concat(o(l))};case".45 ACP":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/45.png",href:"https://canadafirstammo.ca/search-results-page?q=45&page=1&rb_categories=Ammunition%7CReloading&".concat(o(l))};case"5.56 NATO":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/556.png",href:"https://canadafirstammo.ca/search-results-page?q=556+223&page=1&rb_categories=Ammunition%7CFirearms%7CMags+%26+Speed+Loaders&".concat(o(l))};case"7.62 NATO":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/308.png",href:"https://canadafirstammo.ca/search-results-page?q=308&".concat(o(l))};case"7.62X39MM":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/762.png",href:"https://canadafirstammo.ca/search-results-page?q=7.62&".concat(o(l))};case"9MM":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/9.png",href:"https://canadafirstammo.ca/search-results-page?q=9mm&page=1&rb_categories=Ammunition&".concat(o(l))};case null:case void 0:switch(m){case"centerfire":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/centerfire.png",href:"https://canadafirstammo.ca/ammunition/?".concat(o("centerfire"))};case"shotgun":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/shotgun.png",href:"https://canadafirstammo.ca/ammunition/shotgun/?".concat(o("shotgun"))};case"rimfire":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/rimfire.png",href:"https://canadafirstammo.ca/ammunition/rimfire/?".concat(o("shotgun"))};case"reloading":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/reloading.png",href:"https://canadafirstammo.ca/reloading/?".concat(o("reloading"))}}}return"LANG"===t||"index"===t?{img:r(236),href:d}:{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/home-mobile.png",href:"https://canadafirstammo.ca/canadian-made/?".concat(o("mobile_homepage"))}}(this.$route.name,this.$route.params,this.$props.mobile)}get href(){return this.config.href}get img(){return this.config.img}get linkToSponsorPage(){return this.config.href.startsWith("ammobin.ca")}trackClick(){if(!window.navigator.doNotTrack){var t="https://ammobin.ca/api/track-sponsor-click",data={href:window.location.href,target:this.href,ua:navigator.userAgent};navigator.sendBeacon?navigator.sendBeacon(t,JSON.stringify(data)):m.a.post(t,data)}}};l([Object(n.b)()],d.prototype,"homePage",void 0),l([Object(n.b)()],d.prototype,"mobile",void 0);var h=d=l([Object(n.a)({})],d),v=(r(237),r(35)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.linkToSponsorPage?r("nuxt-link",{staticClass:"center",attrs:{to:t.href}},[r("img",{staticClass:"pure-u-1",attrs:{src:t.img,alt:"sponsored ad",decoding:"async",loading:"lazy",height:"60"}})]):r("a",{staticClass:"center",attrs:{href:t.href,rel:"sponsored",target:"_blank"},on:{click:t.trackClick}},[r("img",{class:{"pure-u-1":!0,sponsor:!t.homePage,homePageSponsor:t.homePage},attrs:{src:t.img,crossorigin:"anonymous",alt:"sponsored ad",decoding:"async",loading:"lazy",height:t.homePage?600:60}})])}),[],!1,null,null,null);e.a=component.exports},244:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}));r(10),r(14);var n=["ammo","centerfire","rimfire","shotgun"],o=[...n,"reloading","powder","shot","case","primer"]},255:function(t,e,r){"use strict";(function(t){var n=r(24),o=(r(10),r(14),r(247),r(39),r(146),r(33)),c=r(244),m=r(265);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},v=class extends o.c{constructor(){super(...arguments),this.showFilters=!0,this.provinces=[null,"AB","BC","MB","NB","NS","NL","NT","NU","ON","PE","QC","SK","YT"],this.defaultImg=r(147),this.brands=[null,...m.brands.map((t=>t[0])).sort(),"UNKNOWN"]}get isAmmoType(){return c.a.includes(this.itemType)}itemClicked(link,t){if(!window.navigator.doNotTrack){var e=JSON.stringify({link:link,index:t,href:window.location.href,query:{itemType:this.itemType,subType:this.subType,page:this.page,pageSize:this.pageSize,province:this.province,vendor:this.vendor,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,brand:this.brand},itemType:this.itemType,subType:this.subType,page:this.page,record:d({subType:this.subType,itemType:this.itemType},this.rows[t])});navigator.sendBeacon?navigator.sendBeacon("https://ammobin.ca/api/track-click",e):this.$axios.post("https://ammobin.ca/api/track-click",e)}}sortBy(t){var e;e=t===this.sortField&&"DES"===this.sortOrder?"ASC":"DES",this.$emit("update:sortOrder",e),this.$emit("update:sortField",t)}updateBrand(t){this.$emit("update:brand",t)}updatePage(e){this.$emit("update:page",e),t((()=>window.scroll(0,0)))}updatePageSize(t){this.$emit("update:pageSize",parseInt(t))}updateProvince(t){this.$emit("update:province",t||null)}updateVendor(t){this.$emit("update:vendor",t)}updateQuery(t){this.$emit("update:query",t)}toggleFilters(){this.showFilters=!this.showFilters}};h([Object(o.b)()],v.prototype,"rows",void 0),h([Object(o.b)()],v.prototype,"pages",void 0),h([Object(o.b)()],v.prototype,"itemType",void 0),h([Object(o.b)()],v.prototype,"vendors",void 0),h([Object(o.b)()],v.prototype,"loading",void 0),h([Object(o.b)()],v.prototype,"page",void 0),h([Object(o.b)()],v.prototype,"subType",void 0),h([Object(o.b)()],v.prototype,"pageSize",void 0),h([Object(o.b)()],v.prototype,"province",void 0),h([Object(o.b)()],v.prototype,"vendor",void 0),h([Object(o.b)()],v.prototype,"query",void 0),h([Object(o.b)()],v.prototype,"sortField",void 0),h([Object(o.b)()],v.prototype,"sortOrder",void 0),h([Object(o.b)()],v.prototype,"brand",void 0),v=h([Object(o.a)({mounted:function(){this.showFilters=window.outerWidth>=759}})],v),e.a=v}).call(this,r(97).setImmediate)},259:function(t,e,r){t.exports={}},260:function(t,e,r){t.exports={}},273:function(t,e,r){"use strict";r(259)},274:function(t,e,r){"use strict";r(260)},275:function(t,e,r){"use strict";r.r(e);var n=r(7),o=(r(10),r(14),r(39),r(18),r(255).a),c=(r(273),r(35)),m=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[r("div",{staticClass:"pure-form pure-form-stacked"},[r("div",{staticClass:"pure-g"},[r("div",{staticClass:"pure-u-1 pure-u-md-1-3",attrs:{id:"search"}},[r("label",{attrs:{for:"query"}},[t._v(t._s(t.$t("table.search")))]),t._v(" "),r("input",{staticClass:"pure-input-1",attrs:{id:"query",placeholder:"ie: Barnaul, surplus, 00 Buck",disabled:t.loading},domProps:{value:t.query},on:{change:function(e){return t.updateQuery(e.target.value)}}})]),t._v(" "),r("div",{staticClass:"pure-u-1 show-on-mobile"},[r("div",{staticClass:"active pure-button button-xsmall",on:{click:function(e){return t.toggleFilters()}}},[t._v("\n          "+t._s(t.$t(t.showFilters?"table.hideFilters":"table.showFilters"))+"\n          "),r("span",{staticClass:"arrow",class:{DES:!t.showFilters,ASC:t.showFilters}})])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilters,expression:"showFilters"}],staticClass:"pure-u-1 pure-u-md-2-3"},[r("div",{staticClass:"pure-u-1 pure-u-md-1-4"},[r("label",{attrs:{for:"province"}},[t._v(t._s(t.$t("table.province")))]),t._v(" "),r("select",{staticClass:"pure-input-1",attrs:{id:"province",disabled:t.loading},domProps:{value:t.province},on:{change:function(e){return t.updateProvince(e.target.value)}}},t._l(t.provinces,(function(e){return r("option",{key:e},[t._v(t._s(e))])})),0)]),t._v(" "),r("div",{staticClass:"pure-u-1 pure-u-md-1-3"},[r("label",{attrs:{for:"vendor"}},[t._v(t._s(t.$t("table.vendor")))]),t._v(" "),r("select",{staticClass:"pure-input-1",attrs:{id:"vendor",disabled:t.loading},domProps:{value:t.vendor},on:{change:function(e){return t.updateVendor(e.target.value)}}},t._l(t.vendors,(function(e){return r("option",{key:e},[t._v(t._s(e))])})),0)]),t._v(" "),r("div",{staticClass:"pure-u-1 pure-u-md-1-3 capitalize"},[r("label",{attrs:{for:"brand"}},[t._v(t._s(t.$t("table.brand")))]),t._v(" "),r("select",{staticClass:"pure-input-1",attrs:{id:"brand",disabled:t.loading},domProps:{value:t.brand},on:{change:function(e){return t.updateBrand(e.target.value)}}},t._l(t.brands,(function(e){return r("option",{key:e,staticClass:"capitalize"},[t._v("\n              "+t._s(e)+"\n            ")])})),0)])])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.pages>0,expression:"pages > 0"}],staticClass:"pure-u-1 pure-u-md-1-3"},[r("label",[t._v(t._s(t.$t("table.page")))]),t._v(" "),r("div",[r("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page<=1||t.loading},on:{click:function(e){return t.updatePage(1)}}},[t._v("\n          |<<\n        ")]),t._v(" "),r("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page<=1||t.loading},on:{click:function(e){return t.updatePage(t.page-1)}}},[t._v("\n          <\n        ")]),t._v("\n        "+t._s(t.page)+" "+t._s(t.$t("table.of"))+" "+t._s(t.pages)+"\n        "),r("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page>=t.pages||t.loading},on:{click:function(e){return t.updatePage(t.page+1)}}},[t._v("\n          >\n        ")]),t._v(" "),r("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page>=t.pages||t.loading},on:{click:function(e){return t.updatePage(t.pages)}}},[t._v("\n          >>|\n        ")])])])]),t._v(" "),r("div",{staticClass:"pure-g row"},[r("div",{staticClass:"pure-u-lg-1-5 pure-u-1"}),t._v(" "),r("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-3 pure-u-1-4 title",class:{active:"name"==t.sortField},attrs:{disabled:t.loading},on:{click:function(e){return t.sortBy("name")}}},[r("h4",[t._v("\n        "+t._s(t.$t("table.name"))+"\n        "),r("span",{staticClass:"arrow",class:t.sortOrder})])]),t._v(" "),r("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-3 pure-u-1-4 title",class:{active:"price"==t.sortField},attrs:{disabled:t.loading},on:{click:function(e){return t.sortBy("price")}}},[r("h4",[t._v("\n        "+t._s(t.$t("table.price"))+"\n        "),r("span",{staticClass:"arrow",class:t.sortOrder})])]),t._v(" "),r("div",{staticClass:"pure-u-lg-1-5 pure-u-1-4 title",class:{active:"unitCost"==t.sortField},attrs:{disabled:t.loading},on:{click:function(e){return t.sortBy("unitCost")}}},[r("h4",[t._v("\n        "+t._s(t.$t("table.unitCost"))+"\n        "),r("span",{staticClass:"arrow",class:t.sortOrder})])]),t._v(" "),r("div",{staticClass:"pure-u-lg-1-5 pure-u-1-4 title",class:{active:"link"==t.sortField},attrs:{disabled:t.loading},on:{click:function(e){return t.sortBy("link")}}},[r("h4",[t._v("\n        "+t._s(t.$t("table.link"))+"\n        "),r("span",{staticClass:"arrow",class:t.sortOrder})])])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!(t.loading||t.rows&&0!==t.rows.length),expression:"!loading && (!rows || rows.length === 0)"}],staticClass:"pure-g row fix-row"},[r("div",{staticClass:"pure-u-1"},[t._v(t._s(t.$t("table.noResult")))])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"pure-g row fix-row"},[r("div",{staticClass:"pure-u-1"},[t._v(t._s(t.$t("default.loading"))+"...")]),t._v(" "),r("div",{staticClass:"pure-u-1"},[t._v("if the page is stuck, trying going back to the "),r("nuxt-link",{attrs:{to:"/"}},[t._v("home page")])],1)]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},t._l(t.rows,(function(e,n){return r("div",{key:e.link+n,staticClass:"pure-g row fix-row item"},[r("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1 pure-u-1"},[r("img",{directives:[{name:"img-fallback",rawName:"v-img-fallback",value:t.defaultImg,expression:"defaultImg"}],staticClass:"pure-img img-cell",attrs:{src:e.img||t.defaultImg,alt:e.name,loading:"lazy",referrerpolicy:"origin",decoding:"async",importance:"low"}})]),t._v(" "),r("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-4 pure-u-1 m-b-1 capitalize"},[t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),r("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-4 pure-u-1 m-b-1"},[r("div",[t._v("$"+t._s(e.price.toFixed(2)))])]),t._v(" "),r("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-4 pure-u-1 m-b-1"},[e.unitCost?r("div",[t._v("$"+t._s(e.unitCost.toFixed(2)))]):r("div",{attrs:{if:"!row.minUnitCost"}},[t._v("N/A")])]),t._v(" "),r("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-4 pure-u-1 m-b-1"},[r("a",{attrs:{href:e.link,target:"_blank",rel:"nofollow noopener"},on:{click:function(r){return t.itemClicked(e.link,n)}}},[t._v(t._s(t.$t("table.buyFrom"))+" "+t._s(e.vendor))])])])})),0),t._v(" "),r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.pages>0,expression:"pages > 0"}],staticClass:"pure-u-lg-1-2 pure-u-1"},[r("div",[t._v(t._s(t.$t("table.page")))]),t._v(" "),r("div",[r("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:1===t.page||t.loading},on:{click:function(e){return t.updatePage(1)}}},[t._v("\n          |<<\n        ")]),t._v(" "),r("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:1===t.page||t.loading},on:{click:function(e){return t.updatePage(t.page-1)}}},[t._v("\n          <\n        ")]),t._v("\n        "+t._s(t.page)+" "+t._s(t.$t("table.of"))+" "+t._s(t.pages)+"\n        "),r("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page===t.pages||t.loading},on:{click:function(e){return t.updatePage(t.page+1)}}},[t._v("\n          >\n        ")]),t._v(" "),r("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page===t.pages||t.loading},on:{click:function(e){return t.updatePage(t.pages)}}},[t._v("\n          >>|\n        ")])])])])])}),[],!1,null,null,null).exports,l=r(238),d=r(48),h=r(244),v=(r(235),r(33)),f=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c};function y(t,e){return _.apply(this,arguments)}function _(){return(_=Object(n.a)((function*(t,e){var{itemType:r,subType:n,page:o=1,pageSize:c=25,brand:m=null,province:l=null,vendor:d=null,query:h=null,sortField:v="unitCost",sortOrder:f="ASC"}=e;function y(s){return s?'"'+s+'"':"null"}var _=yield t.get("https://ammobin.ca/api/graphql",{params:{query:"{\nitemsFlatListings(\n page: ".concat(o,"\n itemType: ").concat(r,'\n subType: "').concat(n,'"\n brand:').concat(y(m),"\n province:").concat(y(l),"\n vendor:").concat(y(d),"\n query:").concat(y(h),"\n sortField:").concat(v,"\n sortOrder:").concat(f,"\n) {\n pages\n items {\n  name\n  brand\n  img\n  price\n  link\n  unitCost\n  vendor\n  }\n }\n}"),opName:"getItemsFlatListings",variables:{itemType:r,subType:n,page:o,pageSize:c,brand:m,province:l,vendor:d,query:h,sortField:v,sortOrder:f}}}),{data:{itemsFlatListings:O,errors:w}}=_.data;return O}))).apply(this,arguments)}var O=class extends v.c{constructor(){super(...arguments),this.error=null,this.itemsFlatListings=null,this.loading=!1,this.page=1,this.province=null,this.pageSize=25,this.vendor=null,this.query=null,this.sortOrder="ASC",this.sortField="unitCost",this.brand=null}get area(){return this.province||Object(d.a)()}get isAmmoType(){return h.a.includes(this.itemType)}get subType(){return this.$route.params.subType}get itemType(){return this.$route.params.itemType}onQueryChange(t){var e=this;return Object(n.a)((function*(){e.$nuxt.$loading.start();try{e.loading=!0,e.itemsFlatListings=yield y(e.$axios,e),e.page>e.itemsFlatListings.pages&&(e.page=e.itemsFlatListings.pages||1)}catch(t){console.error("onQueryChange ERROR",t),e.error=t}e.loading=!1,e.$nuxt.$loading.finish()}))()}};f([Object(v.d)("page"),Object(v.d)("province"),Object(v.d)("pageSize"),Object(v.d)("vendor"),Object(v.d)("query"),Object(v.d)("sortOrder"),Object(v.d)("sortField"),Object(v.d)("brand")],O.prototype,"onQueryChange",null);var w=O=f([Object(v.a)({validate(t){var{params:e}=t;return h.b.includes(e.itemType)},asyncData:t=>Object(n.a)((function*(){var{$axios:e,route:{params:{itemType:r,subType:n}},error:o}=t;try{var[c,m]=yield Promise.all([y(e,{itemType:r,subType:n}),e.get("https://ammobin.ca/api/graphql",{params:{query:"{vendors{name}}",opName:"vendors"}}).then((t=>t.data.data.vendors))]);return{vendors:m,itemsFlatListings:c}}catch(t){return console.error("asyncData ERROR",t,t.config),t.response?o({message:"message ".concat(t.message,"\n          url:").concat(null==t?void 0:t.config.url,"\n          params:").concat(JSON.stringify((null==t?void 0:t.config.params)||"empty params"),"\n          body:").concat(JSON.stringify((null==t?void 0:t.response.data)||"empty body")),statusCode:t.response.status}):t.request?o({message:"clientside network error message: ".concat(t.message," "),statusCode:0}):o({message:"clientside error message: ".concat(t.message," "),statusCode:0}),console.error("asyncData ERROR",t),{error:t}}}))(),components:{FlatList:m,Sponsorship:l.a},head(){var t=this,link=[],e="".concat("https://ammobin.ca","/").concat(this.$i18n.locale,"/").concat(t.itemType,"/").concat(t.subType);t.page>1&&link.push({rel:"prev",href:Object(d.c)(e,t.page-1,t.subType)}),t.itemsFlatListings&&t.itemsFlatListings.pages>t.page&&link.push({rel:"next",href:Object(d.c)(e,t.page+1,t.subType)});var area=t.area,r=t.subType;return{title:this.$t("subType.title",{area:area,subType:r})+" | ".concat("ammobin.ca"),meta:[{hid:"description",name:"description",content:this.$t("subType.description",{area:area,subType:r})}],link:link}}})],O),k=(r(274),Object(c.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t.isAmmoType?t._e():r("div",[t._v(t._s(t.$t("default.betaWarning")))]),t._v(" "),r("h1",[t._v(t._s(t.$t("subType.title",{area:t.area,subType:t.subType})))]),t._v(" "),r("div",{staticClass:"pure-g row"},[r("sponsorship")],1),t._v(" "),t.error?t._e():r("flat-list",{attrs:{rows:t.itemsFlatListings?t.itemsFlatListings.items:[],pages:t.itemsFlatListings?t.itemsFlatListings.pages:0,"item-type":t.itemType,subType:t.subType,vendors:[null].concat((t.vendors||[]).map((function(i){return i.name}))),loading:!t.itemsFlatListings||t.loading,page:t.page,pageSize:t.pageSize,province:t.province,vendor:t.vendor,query:t.query,sortField:t.sortField,sortOrder:t.sortOrder,brand:t.brand},on:{"update:page":function(e){t.page=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"update:province":function(e){t.province=e},"update:vendor":function(e){t.vendor=e},"update:query":function(e){t.query=e},"update:sortField":function(e){t.sortField=e},"update:sort-field":function(e){t.sortField=e},"update:sortOrder":function(e){t.sortOrder=e},"update:sort-order":function(e){t.sortOrder=e},"update:brand":function(e){t.brand=e}}}),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}]},[t._v("ERROR "+t._s(t.error))])],1)}),[],!1,null,"ffc61054",null));e.default=k.exports}}]);