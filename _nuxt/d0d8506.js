(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{277:function(t,e,n){},279:function(t,e,n){t.exports=n.p+"img/TEST_SIDE.370db50.png"},280:function(t,e,n){t.exports=n.p+"img/TEST_TOP.899a3ad.png"},281:function(t,e,n){"use strict";n(277)},282:function(t,e,n){"use strict";n(136);var r=n(52),o=n(77),c=n(75),l=n(76),d=n(53),m=n(11),f=(n(40),n(28),n(95),n(42)),v=(n(94),function(t){return"utm_source=".concat("ammobin.ca","&utm_campaign=").concat(t)});function h(t,e){var r=e.LANG,o=e.itemType,c=e.subType,l="/".concat(r,"/sponsorship");if("LANG"===t||"index"===t)return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/home-desktop.png",href:"https://canadafirstammo.ca/canadian-made/?".concat(v("homepage"))};switch(c){case"17 HMR":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/17.png",href:"https://canadafirstammo.ca/ammunition/rimfire/?".concat(v(c))};case"22 LR":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/22.png",href:"https://canadafirstammo.ca/ammunition/rimfire/?".concat(v(c))};case"12 GA":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/12.png",href:"https://canadafirstammo.ca/ammunition/shotgun/?".concat(v(c))};case"20 GA":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/20.png",href:"https://canadafirstammo.ca/ammunition/shotgun/?".concat(v(c))};case".357 MAG":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/357.png",href:"https://canadafirstammo.ca/search-results-page?q=357&page=1&rb_categories=Ammunition&".concat(v(c))};case".38 SPECIAL":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/38.png",href:"https://canadafirstammo.ca/search-results-page?q=38+spl&page=1&rb_categories=Ammunition&".concat(v(c))};case".40 S&W":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/40.png",href:"https://canadafirstammo.ca/search-results-page?q=40+s%26w&".concat(v(c))};case".45 ACP":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/45.png",href:"https://canadafirstammo.ca/search-results-page?q=45&page=1&rb_categories=Ammunition%7CReloading&".concat(v(c))};case"5.56 NATO":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/556.png",href:"https://canadafirstammo.ca/search-results-page?q=556+223&page=1&rb_categories=Ammunition%7CFirearms%7CMags+%26+Speed+Loaders&".concat(v(c))};case"7.62 NATO":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/308.png",href:"https://canadafirstammo.ca/search-results-page?q=308&".concat(v(c))};case"7.62X39MM":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/762.png",href:"https://canadafirstammo.ca/search-results-page?q=7.62&".concat(v(c))};case"9MM":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/9.png",href:"https://canadafirstammo.ca/search-results-page?q=9mm&page=1&rb_categories=Ammunition&".concat(v(c))};case null:case void 0:switch(o){case"centerfire":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/centerfire.png",href:"https://canadafirstammo.ca/ammunition/?".concat(v("centerfire"))};case"shotgun":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/shotgun.png",href:"https://canadafirstammo.ca/ammunition/shotgun/?".concat(v("shotgun"))};case"rimfire":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/rimfire.png",href:"https://canadafirstammo.ca/ammunition/rimfire/?".concat(v("shotgun"))};case"reloading":return{img:"https://store-udt1amkaxd.mybigcommerce.com/content/ammobin/reloading.png",href:"https://canadafirstammo.ca/reloading/?".concat(v("reloading"))}}}return"LANG"===t||"index"===t?{img:n(279),href:l}:{img:n(280),href:l}}var y=n(21),_=n.n(y);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var w=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},k=function(t){Object(c.a)(n,t);var e=O(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).config=h(t.$route.name,t.$route.params),t}return Object(o.a)(n,[{key:"href",get:function(){return this.config.href}},{key:"img",get:function(){return this.config.img}},{key:"linkToSponsorPage",get:function(){return this.config.href.startsWith("ammobin.ca")}},{key:"trackClick",value:function(){if(!window.navigator.doNotTrack){var t="https://ammobin.ca/api/track-sponsor-click",data={href:window.location.href,target:this.href,ua:navigator.userAgent};navigator.sendBeacon?navigator.sendBeacon(t,JSON.stringify(data)):_.a.post(t,data)}}}]),n}(f.c);w([Object(f.b)()],k.prototype,"homePage",void 0);var j=k=w([Object(f.a)({})],k),C=(n(281),n(51)),component=Object(C.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.linkToSponsorPage?n("nuxt-link",{staticClass:"center",attrs:{to:t.href}},[n("img",{staticClass:"pure-u-1",attrs:{src:t.img,alt:"sponsored ad",decoding:"async",loading:"lazy",height:"60"}})]):n("a",{staticClass:"center",attrs:{href:t.href,rel:"sponsored",target:"_blank"},on:{click:t.trackClick}},[n("img",{class:{"pure-u-1":!0,sponsor:!t.homePage,homePageSponsor:t.homePage},attrs:{src:t.img,crossorigin:"anonymous",alt:"sponsored ad",decoding:"async",loading:"lazy",height:t.homePage?600:60}})])}),[],!1,null,null,null);e.a=component.exports},289:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));n(94);var r=["ammo","centerfire","rimfire","shotgun"],o=[].concat(r,["reloading","powder","shot","case","primer"])},295:function(t,e,n){"use strict";(function(t){n(136),n(55),n(33),n(44),n(37),n(65);var r=n(32),o=n(283),c=n(52),l=n(77),d=n(75),m=n(76),f=n(53),v=n(11),h=(n(40),n(94),n(41),n(63),n(64),n(191),n(42)),y=n(289),_=n(308);function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var j=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},C=function(e){Object(d.a)(m,e);var r=k(m);function m(){var t;return Object(c.a)(this,m),(t=r.apply(this,arguments)).showFilters=!0,t.provinces=[null,"AB","BC","MB","NB","NS","NL","NT","NU","ON","PE","QC","SK","YT"],t.defaultImg=n(192),t.brands=[null].concat(Object(o.a)(_.brands.map((function(t){return t[0]})).sort()),["UNKNOWN"]),t}return Object(l.a)(m,[{key:"isAmmoType",get:function(){return y.a.includes(this.itemType)}},{key:"itemClicked",value:function(link,t){if(!window.navigator.doNotTrack){var e=JSON.stringify({link:link,index:t,href:window.location.href,query:{itemType:this.itemType,subType:this.subType,page:this.page,pageSize:this.pageSize,province:this.province,vendor:this.vendor,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,brand:this.brand},itemType:this.itemType,subType:this.subType,page:this.page,record:w({subType:this.subType,itemType:this.itemType},this.rows[t])});navigator.sendBeacon?navigator.sendBeacon("https://ammobin.ca/api/track-click",e):this.$axios.post("https://ammobin.ca/api/track-click",e)}}},{key:"sortBy",value:function(t){var e;e=t===this.sortField&&"DES"===this.sortOrder?"ASC":"DES",this.$emit("update:sortOrder",e),this.$emit("update:sortField",t)}},{key:"updateBrand",value:function(t){this.$emit("update:brand",t)}},{key:"updatePage",value:function(e){this.$emit("update:page",e),t((function(){return window.scroll(0,0)}))}},{key:"updatePageSize",value:function(t){this.$emit("update:pageSize",parseInt(t))}},{key:"updateProvince",value:function(t){this.$emit("update:province",t||null)}},{key:"updateVendor",value:function(t){this.$emit("update:vendor",t)}},{key:"updateQuery",value:function(t){this.$emit("update:query",t)}},{key:"toggleFilters",value:function(){this.showFilters=!this.showFilters}}]),m}(h.c);j([Object(h.b)()],C.prototype,"rows",void 0),j([Object(h.b)()],C.prototype,"pages",void 0),j([Object(h.b)()],C.prototype,"itemType",void 0),j([Object(h.b)()],C.prototype,"vendors",void 0),j([Object(h.b)()],C.prototype,"loading",void 0),j([Object(h.b)()],C.prototype,"page",void 0),j([Object(h.b)()],C.prototype,"subType",void 0),j([Object(h.b)()],C.prototype,"pageSize",void 0),j([Object(h.b)()],C.prototype,"province",void 0),j([Object(h.b)()],C.prototype,"vendor",void 0),j([Object(h.b)()],C.prototype,"query",void 0),j([Object(h.b)()],C.prototype,"sortField",void 0),j([Object(h.b)()],C.prototype,"sortOrder",void 0),j([Object(h.b)()],C.prototype,"brand",void 0),C=j([Object(h.a)({mounted:function(){this.showFilters=window.outerWidth>=759}})],C),e.a=C}).call(this,n(138).setImmediate)},299:function(t,e,n){},300:function(t,e,n){},316:function(t,e,n){"use strict";n(299)},317:function(t,e,n){"use strict";n(300)},318:function(t,e,n){"use strict";n.r(e);n(136);var r=n(24),o=n(52),c=n(77),l=n(75),d=n(76),m=n(53),f=n(8),v=n(11),h=(n(54),n(40),n(63),n(64),n(14),n(26),n(29),n(94),n(295).a),y=(n(316),n(51)),_=Object(y.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"pure-form pure-form-stacked"},[n("div",{staticClass:"pure-g"},[n("div",{staticClass:"pure-u-1 pure-u-md-1-3",attrs:{id:"search"}},[n("label",{attrs:{for:"query"}},[t._v(t._s(t.$t("table.search")))]),t._v(" "),n("input",{staticClass:"pure-input-1",attrs:{id:"query",placeholder:"ie: Barnaul, surplus, 00 Buck",disabled:t.loading},domProps:{value:t.query},on:{change:function(e){return t.updateQuery(e.target.value)}}})]),t._v(" "),n("div",{staticClass:"pure-u-1 show-on-mobile"},[n("div",{staticClass:"active pure-button button-xsmall",on:{click:function(e){return t.toggleFilters()}}},[t._v("\n          "+t._s(t.$t(t.showFilters?"table.hideFilters":"table.showFilters"))+"\n          "),n("span",{staticClass:"arrow",class:{DES:!t.showFilters,ASC:t.showFilters}})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilters,expression:"showFilters"}],staticClass:"pure-u-1 pure-u-md-2-3"},[n("div",{staticClass:"pure-u-1 pure-u-md-1-4"},[n("label",{attrs:{for:"province"}},[t._v(t._s(t.$t("table.province")))]),t._v(" "),n("select",{staticClass:"pure-input-1",attrs:{id:"province",disabled:t.loading},domProps:{value:t.province},on:{change:function(e){return t.updateProvince(e.target.value)}}},t._l(t.provinces,(function(e){return n("option",{key:e},[t._v(t._s(e))])})),0)]),t._v(" "),n("div",{staticClass:"pure-u-1 pure-u-md-1-3"},[n("label",{attrs:{for:"vendor"}},[t._v(t._s(t.$t("table.vendor")))]),t._v(" "),n("select",{staticClass:"pure-input-1",attrs:{id:"vendor",disabled:t.loading},domProps:{value:t.vendor},on:{change:function(e){return t.updateVendor(e.target.value)}}},t._l(t.vendors,(function(e){return n("option",{key:e},[t._v(t._s(e))])})),0)]),t._v(" "),n("div",{staticClass:"pure-u-1 pure-u-md-1-3 capitalize"},[n("label",{attrs:{for:"brand"}},[t._v(t._s(t.$t("table.brand")))]),t._v(" "),n("select",{staticClass:"pure-input-1",attrs:{id:"brand",disabled:t.loading},domProps:{value:t.brand},on:{change:function(e){return t.updateBrand(e.target.value)}}},t._l(t.brands,(function(e){return n("option",{key:e,staticClass:"capitalize"},[t._v("\n              "+t._s(e)+"\n            ")])})),0)])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.pages>0,expression:"pages > 0"}],staticClass:"pure-u-1 pure-u-md-1-3"},[n("label",[t._v(t._s(t.$t("table.page")))]),t._v(" "),n("div",[n("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page<=1||t.loading},on:{click:function(e){return t.updatePage(1)}}},[t._v("\n          |<<\n        ")]),t._v(" "),n("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page<=1||t.loading},on:{click:function(e){return t.updatePage(t.page-1)}}},[t._v("\n          <\n        ")]),t._v("\n        "+t._s(t.page)+" "+t._s(t.$t("table.of"))+" "+t._s(t.pages)+"\n        "),n("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page>=t.pages||t.loading},on:{click:function(e){return t.updatePage(t.page+1)}}},[t._v("\n          >\n        ")]),t._v(" "),n("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page>=t.pages||t.loading},on:{click:function(e){return t.updatePage(t.pages)}}},[t._v("\n          >>|\n        ")])])])]),t._v(" "),n("div",{staticClass:"pure-g row"},[n("div",{staticClass:"pure-u-lg-1-5 pure-u-1"}),t._v(" "),n("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-3 pure-u-1-4 title",class:{active:"name"==t.sortField},attrs:{disabled:t.loading},on:{click:function(e){return t.sortBy("name")}}},[n("h4",[t._v("\n        "+t._s(t.$t("table.name"))+"\n        "),n("span",{staticClass:"arrow",class:t.sortOrder})])]),t._v(" "),n("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-3 pure-u-1-4 title",class:{active:"price"==t.sortField},attrs:{disabled:t.loading},on:{click:function(e){return t.sortBy("price")}}},[n("h4",[t._v("\n        "+t._s(t.$t("table.price"))+"\n        "),n("span",{staticClass:"arrow",class:t.sortOrder})])]),t._v(" "),n("div",{staticClass:"pure-u-lg-1-5 pure-u-1-4 title",class:{active:"unitCost"==t.sortField},attrs:{disabled:t.loading},on:{click:function(e){return t.sortBy("unitCost")}}},[n("h4",[t._v("\n        "+t._s(t.$t("table.unitCost"))+"\n        "),n("span",{staticClass:"arrow",class:t.sortOrder})])]),t._v(" "),n("div",{staticClass:"pure-u-lg-1-5 pure-u-1-4 title",class:{active:"link"==t.sortField},attrs:{disabled:t.loading},on:{click:function(e){return t.sortBy("link")}}},[n("h4",[t._v("\n        "+t._s(t.$t("table.link"))+"\n        "),n("span",{staticClass:"arrow",class:t.sortOrder})])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!(t.loading||t.rows&&0!==t.rows.length),expression:"!loading && (!rows || rows.length === 0)"}],staticClass:"pure-g row fix-row"},[n("div",{staticClass:"pure-u-1"},[t._v(t._s(t.$t("table.noResult")))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"pure-g row fix-row"},[n("div",{staticClass:"pure-u-1"},[t._v(t._s(t.$t("default.loading"))+"...")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},t._l(t.rows,(function(e,r){return n("div",{key:e.link+r,staticClass:"pure-g row fix-row item"},[n("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1 pure-u-1"},[n("img",{directives:[{name:"img-fallback",rawName:"v-img-fallback",value:t.defaultImg,expression:"defaultImg"}],staticClass:"pure-img img-cell",attrs:{src:e.img||t.defaultImg,alt:e.name,loading:"lazy",referrerpolicy:"origin",decoding:"async",importance:"low"}})]),t._v(" "),n("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-4 pure-u-1 m-b-1 capitalize"},[t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),n("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-4 pure-u-1 m-b-1"},[n("div",[t._v("$"+t._s(e.price.toFixed(2)))])]),t._v(" "),n("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-4 pure-u-1 m-b-1"},[e.unitCost?n("div",[t._v("$"+t._s(e.unitCost.toFixed(2)))]):n("div",{attrs:{if:"!row.minUnitCost"}},[t._v("N/A")])]),t._v(" "),n("div",{staticClass:"pure-u-lg-1-5 pure-u-md-1-4 pure-u-1 m-b-1"},[n("a",{attrs:{href:e.link,target:"_blank",rel:"nofollow noopener"},on:{click:function(n){return t.itemClicked(e.link,r)}}},[t._v(t._s(t.$t("table.buyFrom"))+" "+t._s(e.vendor))])])])})),0),t._v(" "),n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.pages>0,expression:"pages > 0"}],staticClass:"pure-u-lg-1-2 pure-u-1"},[n("div",[t._v(t._s(t.$t("table.page")))]),t._v(" "),n("div",[n("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:1===t.page||t.loading},on:{click:function(e){return t.updatePage(1)}}},[t._v("\n          |<<\n        ")]),t._v(" "),n("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:1===t.page||t.loading},on:{click:function(e){return t.updatePage(t.page-1)}}},[t._v("\n          <\n        ")]),t._v("\n        "+t._s(t.page)+" "+t._s(t.$t("table.of"))+" "+t._s(t.pages)+"\n        "),n("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page===t.pages||t.loading},on:{click:function(e){return t.updatePage(t.page+1)}}},[t._v("\n          >\n        ")]),t._v(" "),n("button",{staticClass:"pure-button button-xsmall",attrs:{disabled:t.page===t.pages||t.loading},on:{click:function(e){return t.updatePage(t.pages)}}},[t._v("\n          >>|\n        ")])])])])])}),[],!1,null,null,null).exports,O=n(282),w=n(78),k=n(289),j=(n(278),n(42));function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(m.a)(t);if(e){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var x=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};function T(t,e){return F.apply(this,arguments)}function F(){return(F=Object(f.a)(regeneratorRuntime.mark((function t(e,n){var r,o,c,l,d,m,f,v,h,y,_,O,w,k,j,C,x,T,F,P,$,R;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F=function(s){return s?'"'+s+'"':"null"},r=n.itemType,o=n.subType,c=n.page,l=void 0===c?1:c,d=n.pageSize,m=void 0===d?25:d,f=n.brand,v=void 0===f?null:f,h=n.province,y=void 0===h?null:h,_=n.vendor,O=void 0===_?null:_,w=n.query,k=void 0===w?null:w,j=n.sortField,C=void 0===j?"unitCost":j,x=n.sortOrder,T=void 0===x?"ASC":x,t.next=4,e.get("https://ammobin.ca/api/graphql",{params:{query:"{\nitemsFlatListings(\n page: ".concat(l,"\n itemType: ").concat(r,'\n subType: "').concat(o,'"\n brand:').concat(F(v),"\n province:").concat(y,"\n vendor:").concat(F(O),"\n query:").concat(F(k),"\n sortField:").concat(C,"\n sortOrder:").concat(T,"\n) {\n pages\n items {\n  name\n  brand\n  img\n  price\n  link\n  unitCost\n  vendor\n  }\n }\n}"),opName:"getItemsFlatListings",variables:{itemType:r,subType:o,page:l,pageSize:m,brand:v,province:y,vendor:O,query:k,sortField:C,sortOrder:T}}});case 4:return P=t.sent,$=P.data.data,R=$.itemsFlatListings,$.errors,t.abrupt("return",R);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var P=function(t){Object(l.a)(r,t);var e,n=C(r);function r(){var t;return Object(o.a)(this,r),(t=n.apply(this,arguments)).error=null,t.itemsFlatListings=null,t.loading=!1,t.page=1,t.province=null,t.pageSize=25,t.vendor=null,t.query=null,t.sortOrder="ASC",t.sortField="unitCost",t.brand=null,t}return Object(c.a)(r,[{key:"area",get:function(){return this.province||Object(w.a)()}},{key:"isAmmoType",get:function(){return k.a.includes(this.itemType)}},{key:"subType",get:function(){return this.$route.params.subType}},{key:"itemType",get:function(){return this.$route.params.itemType}},{key:"onQueryChange",value:(e=Object(f.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$nuxt.$loading.start(),t.prev=1,this.loading=!0,t.next=5,T(this.$axios,this);case 5:this.itemsFlatListings=t.sent,this.page>this.itemsFlatListings.pages&&(this.page=this.itemsFlatListings.pages||1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),this.error=t.t0;case 12:this.loading=!1,this.$nuxt.$loading.finish();case 14:case"end":return t.stop()}}),t,this,[[1,9]])}))),function(t){return e.apply(this,arguments)})}]),r}(j.c);x([Object(j.d)("page"),Object(j.d)("province"),Object(j.d)("pageSize"),Object(j.d)("vendor"),Object(j.d)("query"),Object(j.d)("sortOrder"),Object(j.d)("sortField"),Object(j.d)("brand")],P.prototype,"onQueryChange",null);var $=P=x([Object(j.a)({validate:function(t){var e=t.params;return k.b.includes(e.itemType)},asyncData:function(t){return Object(f.a)(regeneratorRuntime.mark((function e(){var n,o,c,l,d,m,f,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,o=t.route.params,c=o.itemType,l=o.subType,e.next=3,Promise.all([T(n,{itemType:c,subType:l}),n.get("https://ammobin.ca/api/graphql",{params:{query:"{vendors{name}}",opName:"vendors"}}).then((function(t){return t.data.data.vendors}))]);case 3:return d=e.sent,m=Object(r.a)(d,2),f=m[0],v=m[1],e.abrupt("return",{vendors:v,itemsFlatListings:f});case 8:case"end":return e.stop()}}),e)})))()},components:{FlatList:_,Sponsorship:O.a},head:function(){var t=this,link=[],e="".concat("https://ammobin.ca","/").concat(this.$i18n.locale,"/").concat(t.itemType,"/").concat(t.subType);t.page>1&&link.push({rel:"prev",href:Object(w.c)(e,t.page-1,t.subType)}),t.itemsFlatListings&&t.itemsFlatListings.pages>t.page&&link.push({rel:"next",href:Object(w.c)(e,t.page+1,t.subType)});var area=t.area,n=t.subType;return{title:this.$t("subType.title",{area:area,subType:n})+" | ".concat("ammobin.ca"),meta:[{hid:"description",name:"description",content:this.$t("subType.description",{area:area,subType:n})}],link:link}}})],P),R=(n(317),Object(y.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.isAmmoType?t._e():n("div",[t._v(t._s(t.$t("default.betaWarning")))]),t._v(" "),n("h1",[t._v(t._s(t.$t("subType.title",{area:t.area,subType:t.subType})))]),t._v(" "),n("div",{staticClass:"pure-g row"},[n("sponsorship")],1),t._v(" "),n("flat-list",{directives:[{name:"show",rawName:"v-show",value:!t.error,expression:"!error"}],attrs:{rows:t.itemsFlatListings?t.itemsFlatListings.items:[],pages:t.itemsFlatListings?t.itemsFlatListings.pages:0,"item-type":t.itemType,subType:t.subType,vendors:[null].concat((t.vendors||[]).map((function(i){return i.name}))),loading:!t.itemsFlatListings||t.loading,page:t.page,pageSize:t.pageSize,province:t.province,vendor:t.vendor,query:t.query,sortField:t.sortField,sortOrder:t.sortOrder,brand:t.brand},on:{"update:page":function(e){t.page=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"update:province":function(e){t.province=e},"update:vendor":function(e){t.vendor=e},"update:query":function(e){t.query=e},"update:sortField":function(e){t.sortField=e},"update:sort-field":function(e){t.sortField=e},"update:sortOrder":function(e){t.sortOrder=e},"update:sort-order":function(e){t.sortOrder=e},"update:brand":function(e){t.brand=e}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}]},[t._v("ERROR "+t._s(t.error))])],1)}),[],!1,null,"1871f703",null));e.default=R.exports}}]);